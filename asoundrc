#
## ~/.asoundrc : ALSA sound configuration
#

defaults.pcm.rate_converter "speexrate_best"


pcm.dsp {
  @args [ SNOOP MIX ]

  @args.SNOOP { type string }
  @args.MIX   { type string }

  type          asym

  capture.pcm   $SNOOP
  playback.pcm  $MIX
}


pcm.iec {
  @args [ PCM ]

  @args.PCM   { type string }

  type          iec958

  slave.pcm     $PCM
}


pcm.rec {
  @args [ KEY PCM ]

  @args.KEY   { type integer }
  @args.PCM   { type string  }

  type          dsnoop
  ipc_key       $KEY

  slave.pcm     $PCM
}


pcm.dmix20 {
  @args [ KEY PCM RATE PSIZE BSIZE PTIME BTIME ]

  @args.KEY   { type integer }
  @args.PCM   { type string  }
  @args.RATE  { type integer default  48000 }
  @args.PSIZE { type integer default   4096 }
  @args.BSIZE { type integer default  32768 }
  @args.PTIME { type integer default  83968 }
  @args.BTIME { type integer default 671744 }

  type          dmix
  ipc_key       $KEY

  slave {
    pcm         $PCM
    rate        $RATE
    period_size $PSIZE
    buffer_size $BSIZE
    period_time $PTIME
    buffer_time $BTIME
    channels    2
  }

  bindings    { 0 0 1 1 }
}



ctl.!default    ctl.dsp0
pcm.!default    pcm.dsp0


ctl.pulse     { type pulse }
pcm.pulse     { type pulse }

ctl.pch       { type hw card PCH }
pcm.pch       { type hw card PCH }

ctl.pch0      { type hw card PCH device 0 }
pcm.pch0      { type hw card PCH device 0 }

ctl.pch1      { type hw card PCH device 1 }
pcm.pch1      { type hw card PCH device 1 }

ctl.nvidia    { type hw card NVidia }
pcm.nvidia    { type hw card NVidia }



pcm.dsnoop0     "rec:20020,pch0"

ctl.dmix0       ctl.pch
pcm.dmix0       "dmix20:10020,pch0"

ctl.mixer0      ctl.pch

ctl.dsp0        ctl.pch
pcm.dsp0        "dsp:dsnoop0,dmix0"

ctl.digi0       ctl.pch
pcm.digi0       "iec:pch1"
