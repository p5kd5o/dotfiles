#
## ~/.asoundrc : ALSA configuration
#


pcm.duplex {
  @args [ SNOOP MIX ]

  @args.SNOOP { type string; }
  @args.MIX   { type string; }

  type asym

  capture.pcm  $SNOOP
  playback.pcm $MIX
}


pcm.record {
  @args [ PCM KEY ]

  @args.PCM { type string ; }
  @args.KEY { type integer; }

  type dsnoop

  ipc_key   $KEY
  slave.pcm $PCM
}


pcm.iec {
  @args [ PCM ]

  @args.PCM { type string; }

  type iec958

  slave.pcm $PCM
}


pcm.mono {
  @args [ PCM ]

  @args.PCM { type string; }

  type route

  slave.pcm $PCM

  ttable {
    0.0 1
    1.0 1
  }
}


pcm.dmix20 {
  @args [ KEY PCM RATE PSIZE BSIZE PTIME BTIME ]

  @args.PCM { type string ; }
  @args.KEY { type integer; }

  @args.RATE  { type integer; default  48000; }
  @args.PSIZE { type integer; default   4096; }
  @args.BSIZE { type integer; default  32768; }
  @args.PTIME { type integer; default  85000; }
  @args.BTIME { type integer; default 680000; }

  type dmix

  ipc_key $KEY

  slave {
    pcm         $PCM
    rate        $RATE
    period_size $PSIZE
    buffer_size $BSIZE
    period_time $PTIME
    buffer_time $BTIME
    channels 2
  }
  bindings.0 0
  bindings.1 1
}


ctl.card0   { type hw; card 0; }
pcm.card0   { type hw; card 0; }

pcm.dsnoop0 = "record:card0,23760"

ctl.dmix0   = ctl.card0
pcm.dmix0   = "dmix20:card0,13760"

ctl.mixer0  = ctl.card0
ctl.dsp0    = ctl.card0
pcm.dsp0    = "duplex:dsnoop0,dmix0"

ctl.mono0   = ctl.card0
pcm.mono0   = "mono:dsp0"


ctl.card1 { type hw; card 1; }
pcm.card1 { type hw; card 1; }


ctl.pulse { type pulse; }
pcm.pulse { type pulse; }


ctl.!default ctl.dsp0
pcm.!default pcm.dsp0
